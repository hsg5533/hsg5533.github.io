{"version":3,"file":"static/js/931.3b77e7d5.chunk.js","mappings":"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","sources":["pages/Speed.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport \"../assets/css/speed.css\";\r\n\r\ninterface SpeedometerOptions {\r\n  maxValue: number; // e.g., 180\r\n  smallFactor: number; // distance between labeled major ticks\r\n  dangerRange: number; // from this value and up -> \"danger\" color\r\n  initialAngle: number; // e.g., -45\r\n  totalAngle: number; // e.g., 270\r\n  outerRadius: number; // gauge radius in px\r\n  needleHeight: number;\r\n  needleOffset: number;\r\n  needleLength: number;\r\n  indicatorRadius: number; // radius where ticks are placed\r\n  labelRadius: number; // radius where labels are placed\r\n  labelSize: number; // label circle size (px)\r\n  smallTick: number; // every Nth tick is a \"major\" tick\r\n  multiplier: number; // value display multiplier\r\n  majorTickWidth: number;\r\n  majorTickHeight: number;\r\n  minorTickWidth: number;\r\n  minorTickHeight: number;\r\n  eventType: string;\r\n  unitLabel: string; // e.g., 'km/h'\r\n}\r\n\r\nclass Speedometer {\r\n  private targetInput: HTMLInputElement;\r\n  private config: SpeedometerOptions;\r\n  private indicatorHtml = \"\";\r\n  private totalTicks: number;\r\n  private degreesTick: number;\r\n  private diameter: number;\r\n  private labelOffset: number;\r\n  private wrapperId: string;\r\n  private wrapperElement: HTMLDivElement;\r\n  constructor(targetElement: string, options = {}) {\r\n    this.targetInput = document.querySelector(targetElement)!!;\r\n    this.config = Object.assign(\r\n      {\r\n        maxValue: 180,\r\n        smallFactor: 10,\r\n        dangerRange: 120,\r\n        initialAngle: -45,\r\n        totalAngle: 270,\r\n        outerRadius: 150,\r\n        needleHeight: 4,\r\n        needleOffset: 95,\r\n        needleLength: 13,\r\n        indicatorRadius: 125,\r\n        labelRadius: 90,\r\n        labelSize: 80,\r\n        smallTick: 2,\r\n        multiplier: 1,\r\n        majorTickWidth: 20,\r\n        majorTickHeight: 4,\r\n        minorTickWidth: 10,\r\n        minorTickHeight: 3,\r\n        eventType: \"change\",\r\n        unitLabel: \"km/h\",\r\n      },\r\n      options,\r\n    );\r\n    this.indicatorHtml = \"\";\r\n    this.totalTicks = this.config.maxValue / this.config.smallFactor;\r\n    this.degreesTick = this.config.totalAngle / this.totalTicks;\r\n    this.diameter = 2 * this.config.outerRadius;\r\n    this.labelOffset = this.config.outerRadius - this.config.labelSize / 2;\r\n    this.wrapperId = \"speedometerWrapper-\" + this.targetInput.id;\r\n    const wrapper = document.createElement(\"div\");\r\n    wrapper.id = this.wrapperId;\r\n    this.targetInput.parentNode?.insertBefore(wrapper, this.targetInput);\r\n    wrapper.appendChild(this.targetInput);\r\n    this.wrapperElement = wrapper;\r\n    this.wrapperElement.insertAdjacentHTML(\r\n      \"beforeend\",\r\n      `<style>${`#${this.wrapperId} .envelope{width:${this.diameter}px;height:${\r\n        this.diameter\r\n      }px;}#${this.wrapperId} .speedNobe{height:${\r\n        this.config.needleHeight\r\n      }px;top:${\r\n        this.config.outerRadius - this.config.needleHeight / 2\r\n      }px;transform:rotate(${this.config.initialAngle}deg);}#${\r\n        this.wrapperId\r\n      } .speedPosition{width:${this.config.labelSize}px;height:${\r\n        this.config.labelSize\r\n      }px;top:${this.labelOffset}px;left:${this.labelOffset}px;}#${\r\n        this.wrapperId\r\n      } .speedNobe div{width:${this.config.needleOffset}px;left:${\r\n        this.config.needleLength\r\n      }px;}#${this.wrapperId} .nob{width:${\r\n        this.config.majorTickWidth\r\n      }px;height:${this.config.majorTickHeight}px;}#${\r\n        this.wrapperId\r\n      } .numb{width:${this.config.majorTickWidth}px;height:${\r\n        this.config.majorTickHeight\r\n      }px;}#${this.wrapperId} .midTick{width:${\r\n        this.config.minorTickWidth\r\n      }px;height:${this.config.minorTickHeight}px;}`}</style>`,\r\n    );\r\n    for (let i = 0; i <= this.totalTicks; i++) {\r\n      const angleDeg = this.config.initialAngle + i * this.degreesTick;\r\n      const isDanger =\r\n        i * this.config.smallFactor >= this.config.dangerRange ? \"danger\" : \"\";\r\n      const rad = (Math.PI / 180) * angleDeg;\r\n      const outerX = this.config.indicatorRadius * Math.cos(rad);\r\n      const outerY = this.config.indicatorRadius * Math.sin(rad);\r\n      const labelX = this.config.labelRadius * Math.cos(rad);\r\n      const labelY = this.config.labelRadius * Math.sin(rad);\r\n      if (i % this.config.smallTick === 0) {\r\n        this.indicatorHtml += `<div class=\"nob ${isDanger}\"style=\"left:${\r\n          this.config.outerRadius - outerX - 10\r\n        }px;top:${\r\n          this.config.outerRadius - outerY - 2\r\n        }px;${`transform:rotate(${angleDeg}deg);`}\"></div><div class=\"numb ${isDanger}\"style=\"left:${\r\n          this.config.outerRadius - labelX - this.config.majorTickHeight / 2\r\n        }px;top:${\r\n          this.config.outerRadius - labelY - this.config.majorTickWidth / 2\r\n        }px;\"></div>`;\r\n      } else {\r\n        this.indicatorHtml += `<div class=\"nob ${isDanger} midTick\"style=\"left:${\r\n          this.config.outerRadius - outerX - this.config.minorTickWidth / 2\r\n        }px;top:${\r\n          this.config.outerRadius - outerY - this.config.minorTickHeight / 2\r\n        }px;${`transform:rotate(${angleDeg}deg);`}\"></div><div class=\"numb\"></div>`;\r\n      }\r\n    }\r\n    this.wrapperElement.insertAdjacentHTML(\r\n      \"beforeend\",\r\n      `<div class=\"envelope\"><div class=\"speedNobe\"><div></div></div><div class=\"speedPosition\"></div>${this.indicatorHtml}</div>`,\r\n    );\r\n    this.targetInput.addEventListener(this.config.eventType, () => {\r\n      const raw = parseFloat(this.targetInput.value);\r\n      const angle =\r\n        (this.config.totalAngle / this.config.maxValue) * raw +\r\n        this.config.initialAngle;\r\n      const needleElem = this.wrapperElement.querySelector(\r\n        \".speedNobe\",\r\n      ) as HTMLElement;\r\n      needleElem.style.transform = `rotate(${angle}deg)`;\r\n      const allTicks = this.wrapperElement.querySelectorAll(\".envelope .nob\");\r\n      const allLabels = this.wrapperElement.querySelectorAll(\".envelope .numb\");\r\n      this.wrapperElement.querySelector(\".speedPosition\")!!.innerHTML =\r\n        `<strong>${raw * this.config.multiplier}%</strong><br/>${\r\n          this.config.unitLabel\r\n        }`;\r\n      allTicks.forEach((node) => node.classList.remove(\"bright\"));\r\n      allLabels.forEach((node) => node.classList.remove(\"bright\"));\r\n      for (let idx = 0; idx <= this.totalTicks; idx++) {\r\n        if (raw >= idx * this.config.smallFactor) {\r\n          allTicks[idx].classList.add(\"bright\");\r\n          allLabels[idx].classList.add(\"bright\");\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n// BenchmarkManager\r\nclass BenchmarkManager {\r\n  private targetInput: HTMLInputElement;\r\n  private workerList: Worker[];\r\n  private workerMessage: number[];\r\n  private totalCore: number;\r\n  private scores: HTMLElement;\r\n  private cores: HTMLSpanElement;\r\n  private progress: HTMLElement;\r\n  private progressBar: HTMLDivElement;\r\n  private singleScore: HTMLElement;\r\n  private singleBench: HTMLElement;\r\n  private multiScore: HTMLElement;\r\n  private multiBench: HTMLElement;\r\n  private startButtons: NodeListOf<HTMLElement>;\r\n  private restartIcon: HTMLElement;\r\n  private singleInterval: number | null;\r\n  private multiInterval: number | null;\r\n  constructor(targetElement: string) {\r\n    this.workerList = [];\r\n    this.workerMessage = [];\r\n    this.totalCore = navigator.hardwareConcurrency;\r\n    this.targetInput = document.querySelector(targetElement)!!;\r\n    this.scores = document.querySelector(\".scores\")!!;\r\n    this.cores = document.querySelector(\".detected span\")!!;\r\n    this.progress = document.querySelector(\".progress-bar\")!!;\r\n    this.progressBar = document.querySelector(\".progress-bar div\")!!;\r\n    this.singleScore = document.querySelector(\"#single .score\")!!;\r\n    this.singleBench = document.querySelector(\"#single .bench\")!!;\r\n    this.multiScore = document.querySelector(\"#multi .score\")!!;\r\n    this.multiBench = document.querySelector(\"#multi .bench\")!!;\r\n    this.startButtons = document.querySelectorAll(\"#start, .restart\")!!;\r\n    this.restartIcon = document.querySelector(\".restart\")!!;\r\n    this.singleInterval = null;\r\n    this.multiInterval = null;\r\n  }\r\n  init() {\r\n    this.updateSpeedometer(0);\r\n    this.cores.textContent = String(this.totalCore);\r\n    this.startButtons.forEach((btn) => {\r\n      btn.addEventListener(\"click\", () => {\r\n        let singleProgress = 0;\r\n        let multiProgress = 0;\r\n        this.workerList = [];\r\n        this.workerMessage = [];\r\n        this.scores.style.display = \"block\";\r\n        this.progress.classList.add(\"visible\");\r\n        this.startButtons.forEach((e) => (e.style.display = \"none\"));\r\n        this.progressBar.style.transition = \"width 20s linear\";\r\n        this.progressBar.style.width = \"100%\";\r\n        // 싱글코어 준비\r\n        this.singleScore.style.display = \"none\";\r\n        this.singleBench.style.display = \"inline-block\";\r\n        this.updateSpeedometer(Math.floor(100 / this.totalCore));\r\n        // 워커 1개 생성\r\n        this.createWorker();\r\n        // 싱글코어 진행\r\n        this.singleInterval = window.setInterval(() => {\r\n          singleProgress++;\r\n          this.progressBar.textContent = `${singleProgress}%`;\r\n          if (singleProgress >= 100) {\r\n            this.singleInterval && clearInterval(this.singleInterval);\r\n            this.singleBench.style.display = \"none\";\r\n            this.singleScore.style.display = \"inline-block\";\r\n            this.singleScore.textContent = String(this.workerMessage[0]);\r\n            this.progressBar.style.transition = \"width 0s linear\";\r\n            this.progressBar.style.width = \"0%\";\r\n            this.progressBar.textContent = \"0%\";\r\n            this.updateSpeedometer(0);\r\n            this.workerList.forEach((worker) => worker.terminate());\r\n            this.workerList = [];\r\n            this.workerMessage = [];\r\n            // 멀티코어 테스트 시작\r\n            setTimeout(() => {\r\n              for (let i = 0; i < this.totalCore; i++) {\r\n                this.createWorker();\r\n              }\r\n              this.progressBar.style.transition = \"width 20s linear\";\r\n              this.progressBar.style.width = \"100%\";\r\n              this.multiScore.style.display = \"none\";\r\n              this.multiBench.style.display = \"inline-block\";\r\n              this.updateSpeedometer(100);\r\n              this.multiInterval = window.setInterval(() => {\r\n                multiProgress++;\r\n                this.progressBar.textContent = `${multiProgress}%`;\r\n                if (multiProgress >= 100) {\r\n                  this.multiInterval && clearInterval(this.multiInterval);\r\n                  this.progress.classList.remove(\"visible\");\r\n                  this.multiBench.style.display = \"none\";\r\n                  this.restartIcon.style.display = \"inline-block\";\r\n                  this.multiScore.style.display = \"inline-block\";\r\n                  this.multiScore.textContent = String(\r\n                    this.workerMessage.reduce((acc, c) => acc + c, 0),\r\n                  );\r\n                  this.progressBar.style.transition = \"width 0s linear\";\r\n                  this.progressBar.style.width = \"0%\";\r\n                  this.progressBar.textContent = \"0%\";\r\n                  this.workerList.forEach((worker) => worker.terminate());\r\n                  this.workerList = [];\r\n                  this.updateSpeedometer(0);\r\n                }\r\n              }, 200);\r\n            }, 1000);\r\n          }\r\n        }, 200);\r\n      });\r\n    });\r\n  }\r\n  updateSpeedometer(value: number) {\r\n    this.targetInput.value = String(value);\r\n    this.targetInput.dispatchEvent(new Event(\"change\"));\r\n  }\r\n  createWorker() {\r\n    const thread = `for(;;)fibonacci(32),postMessage('u');function fibonacci(n){return n<=1?1:fibonacci(n-1)+fibonacci(n-2)}`;\r\n    const blob = new Blob([thread], { type: \"application/javascript\" });\r\n    const worker = new Worker(URL.createObjectURL(blob));\r\n    const idx = this.workerMessage.length;\r\n    this.workerList.push(worker);\r\n    this.workerMessage.push(0);\r\n    worker.onmessage = () => this.workerMessage[idx]++;\r\n  }\r\n}\r\n\r\nexport default function Speed() {\r\n  useEffect(() => {\r\n    const targetInputId = \"#velocimetro\";\r\n    new Speedometer(targetInputId, {\r\n      maxValue: 100,\r\n      dangerRange: 90,\r\n      unitLabel: \"<small>CPU Usage</small>\",\r\n    });\r\n    new BenchmarkManager(targetInputId).init();\r\n  }, []);\r\n  return (\r\n    <main>\r\n      <div className=\"vel-container\">\r\n        <input type=\"hidden\" id=\"velocimetro\" />\r\n      </div>\r\n      <br />\r\n      <p className=\"detected\">\r\n        <span></span> cores detected\r\n      </p>\r\n      <div className=\"center\">\r\n        <button id=\"start\" className=\"start\">\r\n          <b>START</b>\r\n          <br />\r\n          Benchmark\r\n        </button>\r\n      </div>\r\n      <div className=\"progress-bar\">\r\n        <div>0%</div>\r\n      </div>\r\n      <div className=\"center iconos\">\r\n        <div className=\"icon restart\">\r\n          <svg\r\n            aria-hidden=\"true\"\r\n            focusable=\"false\"\r\n            data-prefix=\"fas\"\r\n            data-icon=\"undo-alt\"\r\n            className=\"svg-inline--fa fa-undo-alt fa-w-16\"\r\n            role=\"img\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 512 512\"\r\n          >\r\n            <path d=\"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z\"></path>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      <section className=\"scores\">\r\n        <h4>Scores</h4>\r\n        <div id=\"single\">\r\n          <div>Single core:</div>\r\n          <div className=\"score\"></div>\r\n          <div className=\"bench\"></div>\r\n        </div>\r\n        <div id=\"multi\">\r\n          <div>Multi core:</div>\r\n          <div className=\"score\"></div>\r\n          <div className=\"bench\"></div>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"names":["Speedometer","constructor","targetElement","_this$targetInput$par","options","arguments","length","undefined","targetInput","config","indicatorHtml","totalTicks","degreesTick","diameter","labelOffset","wrapperId","wrapperElement","this","document","querySelector","Object","assign","maxValue","smallFactor","dangerRange","initialAngle","totalAngle","outerRadius","needleHeight","needleOffset","needleLength","indicatorRadius","labelRadius","labelSize","smallTick","multiplier","majorTickWidth","majorTickHeight","minorTickWidth","minorTickHeight","eventType","unitLabel","id","wrapper","createElement","parentNode","insertBefore","appendChild","insertAdjacentHTML","i","angleDeg","isDanger","rad","Math","PI","outerX","cos","outerY","sin","labelX","labelY","addEventListener","raw","parseFloat","value","angle","style","transform","allTicks","querySelectorAll","allLabels","innerHTML","forEach","node","classList","remove","idx","add","BenchmarkManager","workerList","workerMessage","totalCore","scores","cores","progress","progressBar","singleScore","singleBench","multiScore","multiBench","startButtons","restartIcon","singleInterval","multiInterval","navigator","hardwareConcurrency","init","updateSpeedometer","textContent","String","btn","singleProgress","multiProgress","display","e","transition","width","floor","createWorker","window","setInterval","clearInterval","worker","terminate","setTimeout","reduce","acc","c","dispatchEvent","Event","blob","Blob","type","Worker","URL","createObjectURL","push","onmessage","Speed","useEffect","targetInputId","_jsxs","children","_jsx","className","focusable","role","xmlns","viewBox","d"],"sourceRoot":""}